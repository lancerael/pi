(function(L,_t){typeof exports=="object"&&typeof module<"u"?module.exports=_t(require("react"),require("styled-components")):typeof define=="function"&&define.amd?define(["react","styled-components"],_t):(L=typeof globalThis<"u"?globalThis:L||self,L["@pi-lib/candlestick-chart"]=_t(L.require$$0,L.styled))})(this,function(L,_t){"use strict";const zn=t=>t&&typeof t=="object"&&"default"in t?t:{default:t},qt=zn(L),st=zn(_t),yi=st.default.svg`
  width: 100%;
  height: 100%;

  & rect.is-offscreen {
    display: none;
  }

  & line.wicks {
    stroke: grey;
    stroke-width: 1;
  }

  & text.emphasise {
    font-size: 11px;
    font-weight: bold;
    letter-spacing: 1px;
  }
`,gi=st.default.div`
  border: 1px solid lightgrey;
  background: linear-gradient(
    135deg,
    #fafbfc 0%,
    #ebf1f5 50%,
    #e2ecf2 51%,
    #f5f8fb 100%
  );
  width: 100%;
  height: 100%;
`,mi=st.default.div`
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
`;function vi(t){return t}var dn=1,We=2,yn=3,Ye=4,Hn=1e-6;function _i(t){return"translate("+t+",0)"}function wi(t){return"translate(0,"+t+")"}function bi(t){return e=>+t(e)}function xi(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function ki(){return!this.__axis}function Bn(t,e){var r=[],i=null,o=null,a=6,s=6,c=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=t===dn||t===Ye?-1:1,p=t===Ye||t===We?"x":"y",y=t===dn||t===yn?_i:wi;function d(m){var k=i==null?e.ticks?e.ticks.apply(e,r):e.domain():i,O=o==null?e.tickFormat?e.tickFormat.apply(e,r):vi:o,T=Math.max(a,0)+c,R=e.range(),x=+R[0]+f,j=+R[R.length-1]+f,W=(e.bandwidth?xi:bi)(e.copy(),f),M=m.selection?m.selection():m,H=M.selectAll(".domain").data([null]),$=M.selectAll(".tick").data(k,e).order(),J=$.exit(),Y=$.enter().append("g").attr("class","tick"),K=$.select("line"),A=$.select("text");H=H.merge(H.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(Y),K=K.merge(Y.append("line").attr("stroke","currentColor").attr(p+"2",h*a)),A=A.merge(Y.append("text").attr("fill","currentColor").attr(p,h*T).attr("dy",t===dn?"0em":t===yn?"0.71em":"0.32em")),m!==M&&(H=H.transition(m),$=$.transition(m),K=K.transition(m),A=A.transition(m),J=J.transition(m).attr("opacity",Hn).attr("transform",function(I){return isFinite(I=W(I))?y(I+f):this.getAttribute("transform")}),Y.attr("opacity",Hn).attr("transform",function(I){var C=this.parentNode.__axis;return y((C&&isFinite(C=C(I))?C:W(I))+f)})),J.remove(),H.attr("d",t===Ye||t===We?s?"M"+h*s+","+x+"H"+f+"V"+j+"H"+h*s:"M"+f+","+x+"V"+j:s?"M"+x+","+h*s+"V"+f+"H"+j+"V"+h*s:"M"+x+","+f+"H"+j),$.attr("opacity",1).attr("transform",function(I){return y(W(I)+f)}),K.attr(p+"2",h*a),A.attr(p,h*T).text(O),M.filter(ki).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===We?"start":t===Ye?"end":"middle"),M.each(function(){this.__axis=W})}return d.scale=function(m){return arguments.length?(e=m,d):e},d.ticks=function(){return r=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(r=m==null?[]:Array.from(m),d):r.slice()},d.tickValues=function(m){return arguments.length?(i=m==null?null:Array.from(m),d):i&&i.slice()},d.tickFormat=function(m){return arguments.length?(o=m,d):o},d.tickSize=function(m){return arguments.length?(a=s=+m,d):a},d.tickSizeInner=function(m){return arguments.length?(a=+m,d):a},d.tickSizeOuter=function(m){return arguments.length?(s=+m,d):s},d.tickPadding=function(m){return arguments.length?(c=+m,d):c},d.offset=function(m){return arguments.length?(f=+m,d):f},d}function Ei(t){return Bn(We,t)}function Si(t){return Bn(yn,t)}var gn="http://www.w3.org/1999/xhtml";const Xn={svg:"http://www.w3.org/2000/svg",xhtml:gn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ve(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Xn.hasOwnProperty(e)?{space:Xn[e],local:t}:t}function Ri(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===gn&&e.documentElement.namespaceURI===gn?e.createElement(t):e.createElementNS(r,t)}}function Oi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function qn(t){var e=Ve(t);return(e.local?Oi:Ri)(e)}function Ti(){}function mn(t){return t==null?Ti:function(){return this.querySelector(t)}}function Ci(t){typeof t!="function"&&(t=mn(t));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var a=e[o],s=a.length,c=i[o]=new Array(s),f,h,p=0;p<s;++p)(f=a[p])&&(h=t.call(f,f.__data__,p,a))&&("__data__"in f&&(h.__data__=f.__data__),c[p]=h);return new rt(i,this._parents)}function Ni(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ai(){return[]}function Gn(t){return t==null?Ai:function(){return this.querySelectorAll(t)}}function Pi(t){return function(){return Ni(t.apply(this,arguments))}}function Mi(t){typeof t=="function"?t=Pi(t):t=Gn(t);for(var e=this._groups,r=e.length,i=[],o=[],a=0;a<r;++a)for(var s=e[a],c=s.length,f,h=0;h<c;++h)(f=s[h])&&(i.push(t.call(f,f.__data__,h,s)),o.push(f));return new rt(i,o)}function Jn(t){return function(){return this.matches(t)}}function Kn(t){return function(e){return e.matches(t)}}var $i=Array.prototype.find;function Fi(t){return function(){return $i.call(this.children,t)}}function ji(){return this.firstElementChild}function Di(t){return this.select(t==null?ji:Fi(typeof t=="function"?t:Kn(t)))}var Ii=Array.prototype.filter;function Li(){return Array.from(this.children)}function Wi(t){return function(){return Ii.call(this.children,t)}}function Yi(t){return this.selectAll(t==null?Li:Wi(typeof t=="function"?t:Kn(t)))}function Vi(t){typeof t!="function"&&(t=Jn(t));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var a=e[o],s=a.length,c=i[o]=[],f,h=0;h<s;++h)(f=a[h])&&t.call(f,f.__data__,h,a)&&c.push(f);return new rt(i,this._parents)}function Zn(t){return new Array(t.length)}function Ui(){return new rt(this._enter||this._groups.map(Zn),this._parents)}function Ue(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ue.prototype={constructor:Ue,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function zi(t){return function(){return t}}function Hi(t,e,r,i,o,a){for(var s=0,c,f=e.length,h=a.length;s<h;++s)(c=e[s])?(c.__data__=a[s],i[s]=c):r[s]=new Ue(t,a[s]);for(;s<f;++s)(c=e[s])&&(o[s]=c)}function Bi(t,e,r,i,o,a,s){var c,f,h=new Map,p=e.length,y=a.length,d=new Array(p),m;for(c=0;c<p;++c)(f=e[c])&&(d[c]=m=s.call(f,f.__data__,c,e)+"",h.has(m)?o[c]=f:h.set(m,f));for(c=0;c<y;++c)m=s.call(t,a[c],c,a)+"",(f=h.get(m))?(i[c]=f,f.__data__=a[c],h.delete(m)):r[c]=new Ue(t,a[c]);for(c=0;c<p;++c)(f=e[c])&&h.get(d[c])===f&&(o[c]=f)}function Xi(t){return t.__data__}function qi(t,e){if(!arguments.length)return Array.from(this,Xi);var r=e?Bi:Hi,i=this._parents,o=this._groups;typeof t!="function"&&(t=zi(t));for(var a=o.length,s=new Array(a),c=new Array(a),f=new Array(a),h=0;h<a;++h){var p=i[h],y=o[h],d=y.length,m=Gi(t.call(p,p&&p.__data__,h,i)),k=m.length,O=c[h]=new Array(k),T=s[h]=new Array(k),R=f[h]=new Array(d);r(p,y,O,T,R,m,e);for(var x=0,j=0,W,M;x<k;++x)if(W=O[x]){for(x>=j&&(j=x+1);!(M=T[j])&&++j<k;);W._next=M||null}}return s=new rt(s,i),s._enter=c,s._exit=f,s}function Gi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ji(){return new rt(this._exit||this._groups.map(Zn),this._parents)}function Ki(t,e,r){var i=this.enter(),o=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?a.remove():r(a),i&&o?i.merge(o).order():o}function Zi(t){for(var e=t.selection?t.selection():t,r=this._groups,i=e._groups,o=r.length,a=i.length,s=Math.min(o,a),c=new Array(o),f=0;f<s;++f)for(var h=r[f],p=i[f],y=h.length,d=c[f]=new Array(y),m,k=0;k<y;++k)(m=h[k]||p[k])&&(d[k]=m);for(;f<o;++f)c[f]=r[f];return new rt(c,this._parents)}function Qi(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var i=t[e],o=i.length-1,a=i[o],s;--o>=0;)(s=i[o])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function to(t){t||(t=eo);function e(y,d){return y&&d?t(y.__data__,d.__data__):!y-!d}for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a){for(var s=r[a],c=s.length,f=o[a]=new Array(c),h,p=0;p<c;++p)(h=s[p])&&(f[p]=h);f.sort(e)}return new rt(o,this._parents).order()}function eo(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function no(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ro(){return Array.from(this)}function io(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i=t[e],o=0,a=i.length;o<a;++o){var s=i[o];if(s)return s}return null}function oo(){let t=0;for(const e of this)++t;return t}function ao(){return!this.node()}function so(t){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var o=e[r],a=0,s=o.length,c;a<s;++a)(c=o[a])&&t.call(c,c.__data__,a,o);return this}function uo(t){return function(){this.removeAttribute(t)}}function co(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fo(t,e){return function(){this.setAttribute(t,e)}}function lo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ho(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function po(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function yo(t,e){var r=Ve(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?co:uo:typeof e=="function"?r.local?po:ho:r.local?lo:fo)(r,e))}function Qn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function go(t){return function(){this.style.removeProperty(t)}}function mo(t,e,r){return function(){this.style.setProperty(t,e,r)}}function vo(t,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function _o(t,e,r){return arguments.length>1?this.each((e==null?go:typeof e=="function"?vo:mo)(t,e,r==null?"":r)):Gt(this.node(),t)}function Gt(t,e){return t.style.getPropertyValue(e)||Qn(t).getComputedStyle(t,null).getPropertyValue(e)}function wo(t){return function(){delete this[t]}}function bo(t,e){return function(){this[t]=e}}function xo(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function ko(t,e){return arguments.length>1?this.each((e==null?wo:typeof e=="function"?xo:bo)(t,e)):this.node()[t]}function tr(t){return t.trim().split(/^|\s+/)}function vn(t){return t.classList||new er(t)}function er(t){this._node=t,this._names=tr(t.getAttribute("class")||"")}er.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function nr(t,e){for(var r=vn(t),i=-1,o=e.length;++i<o;)r.add(e[i])}function rr(t,e){for(var r=vn(t),i=-1,o=e.length;++i<o;)r.remove(e[i])}function Eo(t){return function(){nr(this,t)}}function So(t){return function(){rr(this,t)}}function Ro(t,e){return function(){(e.apply(this,arguments)?nr:rr)(this,t)}}function Oo(t,e){var r=tr(t+"");if(arguments.length<2){for(var i=vn(this.node()),o=-1,a=r.length;++o<a;)if(!i.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?Ro:e?Eo:So)(r,e))}function To(){this.textContent=""}function Co(t){return function(){this.textContent=t}}function No(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Ao(t){return arguments.length?this.each(t==null?To:(typeof t=="function"?No:Co)(t)):this.node().textContent}function Po(){this.innerHTML=""}function Mo(t){return function(){this.innerHTML=t}}function $o(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Fo(t){return arguments.length?this.each(t==null?Po:(typeof t=="function"?$o:Mo)(t)):this.node().innerHTML}function jo(){this.nextSibling&&this.parentNode.appendChild(this)}function Do(){return this.each(jo)}function Io(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Lo(){return this.each(Io)}function Wo(t){var e=typeof t=="function"?t:qn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Yo(){return null}function Vo(t,e){var r=typeof t=="function"?t:qn(t),i=e==null?Yo:typeof e=="function"?e:mn(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function Uo(){var t=this.parentNode;t&&t.removeChild(this)}function zo(){return this.each(Uo)}function Ho(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Bo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xo(t){return this.select(t?Bo:Ho)}function qo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Go(t){return function(e){t.call(this,e,this.__data__)}}function Jo(t){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function Ko(t){return function(){var e=this.__on;if(!!e){for(var r=0,i=-1,o=e.length,a;r<o;++r)a=e[r],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function Zo(t,e,r){return function(){var i=this.__on,o,a=Go(e);if(i){for(var s=0,c=i.length;s<c;++s)if((o=i[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),o.value=e;return}}this.addEventListener(t.type,a,r),o={type:t.type,name:t.name,value:e,listener:a,options:r},i?i.push(o):this.__on=[o]}}function Qo(t,e,r){var i=Jo(t+""),o,a=i.length,s;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,h=c.length,p;f<h;++f)for(o=0,p=c[f];o<a;++o)if((s=i[o]).type===p.type&&s.name===p.name)return p.value}return}for(c=e?Zo:Ko,o=0;o<a;++o)this.each(c(i[o],e,r));return this}function ir(t,e,r){var i=Qn(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,r):(o=i.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function ta(t,e){return function(){return ir(this,t,e)}}function ea(t,e){return function(){return ir(this,t,e.apply(this,arguments))}}function na(t,e){return this.each((typeof e=="function"?ea:ta)(t,e))}function*ra(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i=t[e],o=0,a=i.length,s;o<a;++o)(s=i[o])&&(yield s)}var or=[null];function rt(t,e){this._groups=t,this._parents=e}function ee(){return new rt([[document.documentElement]],or)}function ia(){return this}rt.prototype=ee.prototype={constructor:rt,select:Ci,selectAll:Mi,selectChild:Di,selectChildren:Yi,filter:Vi,data:qi,enter:Ui,exit:Ji,join:Ki,merge:Zi,selection:ia,order:Qi,sort:to,call:no,nodes:ro,node:io,size:oo,empty:ao,each:so,attr:yo,style:_o,property:ko,classed:Oo,text:Ao,html:Fo,raise:Do,lower:Lo,append:Wo,insert:Vo,remove:zo,clone:Xo,datum:qo,on:Qo,dispatch:na,[Symbol.iterator]:ra};function ze(t){return typeof t=="string"?new rt([[document.querySelector(t)]],[document.documentElement]):new rt([[t]],or)}const oa=500,wt=10,Jt=[65,55],_n={},ne=(t="",e,r)=>{var y;const i=Math.round((y=r.bandwidth)==null?void 0:y.call(r))||0,o=`${t}-${e}-${i}`;if(_n[o]!==void 0)return _n[o];let a="";const s=new Date(t),[c,f,h]=t.split("-");h==="01"&&(f==="01"?a=c:a=s.toLocaleString("en-UK",{month:"short"}));let p=[];return i>1&&p.push(16),i>3&&p.push(8,24),i>7&&(p=[3,6,9,12,15,18,21,24,27,30]),p.includes(Number(h))&&(a=h),r.domain().length-1===e&&(a=h),_n[o]=a,a},aa=(t,e,r,i,o)=>{const[a,s]=L.useState(),[c,f]=L.useState(),{xScale:h,yScale:p}=i,{width:y,height:d,offsetWidth:m}=o;L.useEffect(()=>{!t.current||(ze(t.current).select("g.x-axis, y.y-axis").remove(),s(ze(t.current).append("g").attr("clip-path","url(#bottom-axis)").classed("x-axis",!0).append("g")),f(ze(t.current).append("g").classed("y-axis",!0)))},[]),L.useEffect(()=>{!h.domain||!e||(a.call(Si(h)).attr("transform",`translate(${m},${d-Jt[0]})`).selectAll("text").classed("emphasise",(k,O)=>ne(k,O,h).length>2).attr("x",(k,O)=>ne(k,O,h).length*-4-16).attr("y",-4).attr("transform","rotate(270)").text((k,O)=>ne(k,O,h)),a.selectAll("line").attr("stroke",(k,O)=>ne(k,O,h).length>2?"currentColor":"grey").attr("y2",(k,O)=>ne(k,O,h).length?12:6),c.call(Ei(p)).attr("transform",`translate(${y-Jt[1]+wt},${wt})`))},[h,p])};function He(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sa(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ar(t){let e,r,i;t.length!==2?(e=He,r=(c,f)=>He(t(c),f),i=(c,f)=>t(c)-f):(e=t===He||t===sa?t:ua,r=t,i=t);function o(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const y=h+p>>>1;r(c[y],f)<0?h=y+1:p=y}while(h<p)}return h}function a(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const y=h+p>>>1;r(c[y],f)<=0?h=y+1:p=y}while(h<p)}return h}function s(c,f,h=0,p=c.length){const y=o(c,f,h,p-1);return y>h&&i(c[y-1],f)>-i(c[y],f)?y-1:y}return{left:o,center:s,right:a}}function ua(){return 0}function ca(t){return t===null?NaN:+t}const fa=ar(He).right;ar(ca).center;const la=fa;class sr extends Map{constructor(e,r=da){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[i,o]of e)this.set(i,o)}get(e){return super.get(ur(this,e))}has(e){return super.has(ur(this,e))}set(e,r){return super.set(ha(this,e),r)}delete(e){return super.delete(pa(this,e))}}function ur({_intern:t,_key:e},r){const i=e(r);return t.has(i)?t.get(i):r}function ha({_intern:t,_key:e},r){const i=e(r);return t.has(i)?t.get(i):(t.set(i,r),r)}function pa({_intern:t,_key:e},r){const i=e(r);return t.has(i)&&(r=t.get(i),t.delete(i)),r}function da(t){return t!==null&&typeof t=="object"?t.valueOf():t}var wn=Math.sqrt(50),bn=Math.sqrt(10),xn=Math.sqrt(2);function ya(t,e,r){var i,o=-1,a,s,c;if(e=+e,t=+t,r=+r,t===e&&r>0)return[t];if((i=e<t)&&(a=t,t=e,e=a),(c=cr(t,e,r))===0||!isFinite(c))return[];if(c>0){let f=Math.round(t/c),h=Math.round(e/c);for(f*c<t&&++f,h*c>e&&--h,s=new Array(a=h-f+1);++o<a;)s[o]=(f+o)*c}else{c=-c;let f=Math.round(t*c),h=Math.round(e*c);for(f/c<t&&++f,h/c>e&&--h,s=new Array(a=h-f+1);++o<a;)s[o]=(f+o)/c}return i&&s.reverse(),s}function cr(t,e,r){var i=(e-t)/Math.max(0,r),o=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,o);return o>=0?(a>=wn?10:a>=bn?5:a>=xn?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(a>=wn?10:a>=bn?5:a>=xn?2:1)}function ga(t,e,r){var i=Math.abs(e-t)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/o;return a>=wn?o*=10:a>=bn?o*=5:a>=xn&&(o*=2),e<t?-o:o}function ma(t,e,r){t=+t,e=+e,r=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+r;for(var i=-1,o=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(o);++i<o;)a[i]=t+i*r;return a}function kn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const fr=Symbol("implicit");function lr(){var t=new sr,e=[],r=[],i=fr;function o(a){let s=t.get(a);if(s===void 0){if(i!==fr)return i;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return o.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new sr;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return o},o.range=function(a){return arguments.length?(r=Array.from(a),o):r.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return lr(e,r).unknown(i)},kn.apply(o,arguments),o}function hr(){var t=lr().unknown(void 0),e=t.domain,r=t.range,i=0,o=1,a,s,c=!1,f=0,h=0,p=.5;delete t.unknown;function y(){var d=e().length,m=o<i,k=m?o:i,O=m?i:o;a=(O-k)/Math.max(1,d-f+h*2),c&&(a=Math.floor(a)),k+=(O-k-a*(d-f))*p,s=a*(1-f),c&&(k=Math.round(k),s=Math.round(s));var T=ma(d).map(function(R){return k+a*R});return r(m?T.reverse():T)}return t.domain=function(d){return arguments.length?(e(d),y()):e()},t.range=function(d){return arguments.length?([i,o]=d,i=+i,o=+o,y()):[i,o]},t.rangeRound=function(d){return[i,o]=d,i=+i,o=+o,c=!0,y()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(d){return arguments.length?(c=!!d,y()):c},t.padding=function(d){return arguments.length?(f=Math.min(1,h=+d),y()):f},t.paddingInner=function(d){return arguments.length?(f=Math.min(1,d),y()):f},t.paddingOuter=function(d){return arguments.length?(h=+d,y()):h},t.align=function(d){return arguments.length?(p=Math.max(0,Math.min(1,d)),y()):p},t.copy=function(){return hr(e(),[i,o]).round(c).paddingInner(f).paddingOuter(h).align(p)},kn.apply(y(),arguments)}function En(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function pr(t,e){var r=Object.create(t.prototype);for(var i in e)r[i]=e[i];return r}function re(){}var ie=.7,Be=1/ie,Kt="\\s*([+-]?\\d+)\\s*",oe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",va=/^#([0-9a-f]{3,8})$/,_a=new RegExp(`^rgb\\(${Kt},${Kt},${Kt}\\)$`),wa=new RegExp(`^rgb\\(${bt},${bt},${bt}\\)$`),ba=new RegExp(`^rgba\\(${Kt},${Kt},${Kt},${oe}\\)$`),xa=new RegExp(`^rgba\\(${bt},${bt},${bt},${oe}\\)$`),ka=new RegExp(`^hsl\\(${oe},${bt},${bt}\\)$`),Ea=new RegExp(`^hsla\\(${oe},${bt},${bt},${oe}\\)$`),dr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};En(re,zt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yr,formatHex:yr,formatHex8:Sa,formatHsl:Ra,formatRgb:gr,toString:gr});function yr(){return this.rgb().formatHex()}function Sa(){return this.rgb().formatHex8()}function Ra(){return br(this).formatHsl()}function gr(){return this.rgb().formatRgb()}function zt(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=va.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?mr(e):r===3?new G(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Xe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Xe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_a.exec(t))?new G(e[1],e[2],e[3],1):(e=wa.exec(t))?new G(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ba.exec(t))?Xe(e[1],e[2],e[3],e[4]):(e=xa.exec(t))?Xe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ka.exec(t))?wr(e[1],e[2]/100,e[3]/100,1):(e=Ea.exec(t))?wr(e[1],e[2]/100,e[3]/100,e[4]):dr.hasOwnProperty(t)?mr(dr[t]):t==="transparent"?new G(NaN,NaN,NaN,0):null}function mr(t){return new G(t>>16&255,t>>8&255,t&255,1)}function Xe(t,e,r,i){return i<=0&&(t=e=r=NaN),new G(t,e,r,i)}function Oa(t){return t instanceof re||(t=zt(t)),t?(t=t.rgb(),new G(t.r,t.g,t.b,t.opacity)):new G}function Sn(t,e,r,i){return arguments.length===1?Oa(t):new G(t,e,r,i==null?1:i)}function G(t,e,r,i){this.r=+t,this.g=+e,this.b=+r,this.opacity=+i}En(G,Sn,pr(re,{brighter(t){return t=t==null?Be:Math.pow(Be,t),new G(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ie:Math.pow(ie,t),new G(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new G(Ht(this.r),Ht(this.g),Ht(this.b),qe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vr,formatHex:vr,formatHex8:Ta,formatRgb:_r,toString:_r}));function vr(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}`}function Ta(){return`#${Bt(this.r)}${Bt(this.g)}${Bt(this.b)}${Bt((isNaN(this.opacity)?1:this.opacity)*255)}`}function _r(){const t=qe(this.opacity);return`${t===1?"rgb(":"rgba("}${Ht(this.r)}, ${Ht(this.g)}, ${Ht(this.b)}${t===1?")":`, ${t})`}`}function qe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ht(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bt(t){return t=Ht(t),(t<16?"0":"")+t.toString(16)}function wr(t,e,r,i){return i<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ut(t,e,r,i)}function br(t){if(t instanceof ut)return new ut(t.h,t.s,t.l,t.opacity);if(t instanceof re||(t=zt(t)),!t)return new ut;if(t instanceof ut)return t;t=t.rgb();var e=t.r/255,r=t.g/255,i=t.b/255,o=Math.min(e,r,i),a=Math.max(e,r,i),s=NaN,c=a-o,f=(a+o)/2;return c?(e===a?s=(r-i)/c+(r<i)*6:r===a?s=(i-e)/c+2:s=(e-r)/c+4,c/=f<.5?a+o:2-a-o,s*=60):c=f>0&&f<1?0:s,new ut(s,c,f,t.opacity)}function Ca(t,e,r,i){return arguments.length===1?br(t):new ut(t,e,r,i==null?1:i)}function ut(t,e,r,i){this.h=+t,this.s=+e,this.l=+r,this.opacity=+i}En(ut,Ca,pr(re,{brighter(t){return t=t==null?Be:Math.pow(Be,t),new ut(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ie:Math.pow(ie,t),new ut(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,o=2*r-i;return new G(Rn(t>=240?t-240:t+120,o,i),Rn(t,o,i),Rn(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new ut(xr(this.h),Ge(this.s),Ge(this.l),qe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qe(this.opacity);return`${t===1?"hsl(":"hsla("}${xr(this.h)}, ${Ge(this.s)*100}%, ${Ge(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xr(t){return t=(t||0)%360,t<0?t+360:t}function Ge(t){return Math.max(0,Math.min(1,t||0))}function Rn(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const On=t=>()=>t;function Na(t,e){return function(r){return t+r*e}}function Aa(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(i){return Math.pow(t+i*e,r)}}function Pa(t){return(t=+t)==1?kr:function(e,r){return r-e?Aa(e,r,t):On(isNaN(e)?r:e)}}function kr(t,e){var r=e-t;return r?Na(t,r):On(isNaN(t)?e:t)}const Je=function t(e){var r=Pa(e);function i(o,a){var s=r((o=Sn(o)).r,(a=Sn(a)).r),c=r(o.g,a.g),f=r(o.b,a.b),h=kr(o.opacity,a.opacity);return function(p){return o.r=s(p),o.g=c(p),o.b=f(p),o.opacity=h(p),o+""}}return i.gamma=t,i}(1);function Ma(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(a){for(o=0;o<r;++o)i[o]=t[o]*(1-a)+e[o]*a;return i}}function $a(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Fa(t,e){var r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r),s;for(s=0;s<i;++s)o[s]=Nn(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(c){for(s=0;s<i;++s)a[s]=o[s](c);return a}}function ja(t,e){var r=new Date;return t=+t,e=+e,function(i){return r.setTime(t*(1-i)+e*i),r}}function ct(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Da(t,e){var r={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?r[o]=Nn(t[o],e[o]):i[o]=e[o];return function(a){for(o in r)i[o]=r[o](a);return i}}var Tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cn=new RegExp(Tn.source,"g");function Ia(t){return function(){return t}}function La(t){return function(e){return t(e)+""}}function Er(t,e){var r=Tn.lastIndex=Cn.lastIndex=0,i,o,a,s=-1,c=[],f=[];for(t=t+"",e=e+"";(i=Tn.exec(t))&&(o=Cn.exec(e));)(a=o.index)>r&&(a=e.slice(r,a),c[s]?c[s]+=a:c[++s]=a),(i=i[0])===(o=o[0])?c[s]?c[s]+=o:c[++s]=o:(c[++s]=null,f.push({i:s,x:ct(i,o)})),r=Cn.lastIndex;return r<e.length&&(a=e.slice(r),c[s]?c[s]+=a:c[++s]=a),c.length<2?f[0]?La(f[0].x):Ia(e):(e=f.length,function(h){for(var p=0,y;p<e;++p)c[(y=f[p]).i]=y.x(h);return c.join("")})}function Nn(t,e){var r=typeof e,i;return e==null||r==="boolean"?On(e):(r==="number"?ct:r==="string"?(i=zt(e))?(e=i,Je):Er:e instanceof zt?Je:e instanceof Date?ja:$a(e)?Ma:Array.isArray(e)?Fa:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Da:ct)(t,e)}function Wa(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var Sr=180/Math.PI,An={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rr(t,e,r,i,o,a){var s,c,f;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(f=t*r+e*i)&&(r-=t*f,i-=e*f),(c=Math.sqrt(r*r+i*i))&&(r/=c,i/=c,f/=c),t*i<e*r&&(t=-t,e=-e,f=-f,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*Sr,skewX:Math.atan(f)*Sr,scaleX:s,scaleY:c}}var Ke;function Ya(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?An:Rr(e.a,e.b,e.c,e.d,e.e,e.f)}function Va(t){return t==null||(Ke||(Ke=document.createElementNS("http://www.w3.org/2000/svg","g")),Ke.setAttribute("transform",t),!(t=Ke.transform.baseVal.consolidate()))?An:(t=t.matrix,Rr(t.a,t.b,t.c,t.d,t.e,t.f))}function Or(t,e,r,i){function o(h){return h.length?h.pop()+" ":""}function a(h,p,y,d,m,k){if(h!==y||p!==d){var O=m.push("translate(",null,e,null,r);k.push({i:O-4,x:ct(h,y)},{i:O-2,x:ct(p,d)})}else(y||d)&&m.push("translate("+y+e+d+r)}function s(h,p,y,d){h!==p?(h-p>180?p+=360:p-h>180&&(h+=360),d.push({i:y.push(o(y)+"rotate(",null,i)-2,x:ct(h,p)})):p&&y.push(o(y)+"rotate("+p+i)}function c(h,p,y,d){h!==p?d.push({i:y.push(o(y)+"skewX(",null,i)-2,x:ct(h,p)}):p&&y.push(o(y)+"skewX("+p+i)}function f(h,p,y,d,m,k){if(h!==y||p!==d){var O=m.push(o(m)+"scale(",null,",",null,")");k.push({i:O-4,x:ct(h,y)},{i:O-2,x:ct(p,d)})}else(y!==1||d!==1)&&m.push(o(m)+"scale("+y+","+d+")")}return function(h,p){var y=[],d=[];return h=t(h),p=t(p),a(h.translateX,h.translateY,p.translateX,p.translateY,y,d),s(h.rotate,p.rotate,y,d),c(h.skewX,p.skewX,y,d),f(h.scaleX,h.scaleY,p.scaleX,p.scaleY,y,d),h=p=null,function(m){for(var k=-1,O=d.length,T;++k<O;)y[(T=d[k]).i]=T.x(m);return y.join("")}}}var Ua=Or(Ya,"px, ","px)","deg)"),za=Or(Va,", ",")",")");function Ha(t){return function(){return t}}function Ba(t){return+t}var Tr=[0,1];function Zt(t){return t}function Pn(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Ha(isNaN(e)?NaN:.5)}function Xa(t,e){var r;return t>e&&(r=t,t=e,e=r),function(i){return Math.max(t,Math.min(e,i))}}function qa(t,e,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=Pn(o,i),a=r(s,a)):(i=Pn(i,o),a=r(a,s)),function(c){return a(i(c))}}function Ga(t,e,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)o[s]=Pn(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(c){var f=la(t,c,1,i)-1;return a[f](o[f](c))}}function Ja(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ka(){var t=Tr,e=Tr,r=Nn,i,o,a,s=Zt,c,f,h;function p(){var d=Math.min(t.length,e.length);return s!==Zt&&(s=Xa(t[0],t[d-1])),c=d>2?Ga:qa,f=h=null,y}function y(d){return d==null||isNaN(d=+d)?a:(f||(f=c(t.map(i),e,r)))(i(s(d)))}return y.invert=function(d){return s(o((h||(h=c(e,t.map(i),ct)))(d)))},y.domain=function(d){return arguments.length?(t=Array.from(d,Ba),p()):t.slice()},y.range=function(d){return arguments.length?(e=Array.from(d),p()):e.slice()},y.rangeRound=function(d){return e=Array.from(d),r=Wa,p()},y.clamp=function(d){return arguments.length?(s=d?!0:Zt,p()):s!==Zt},y.interpolate=function(d){return arguments.length?(r=d,p()):r},y.unknown=function(d){return arguments.length?(a=d,y):a},function(d,m){return i=d,o=m,p()}}function Za(){return Ka()(Zt,Zt)}function Qa(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ze(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function Qt(t){return t=Ze(Math.abs(t)),t?t[1]:NaN}function ts(t,e){return function(r,i){for(var o=r.length,a=[],s=0,c=t[0],f=0;o>0&&c>0&&(f+c+1>i&&(c=Math.max(1,i-f)),a.push(r.substring(o-=c,o+c)),!((f+=c+1)>i));)c=t[s=(s+1)%t.length];return a.reverse().join(e)}}function es(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var ns=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qe(t){if(!(e=ns.exec(t)))throw new Error("invalid format: "+t);var e;return new Mn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qe.prototype=Mn.prototype;function Mn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Mn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rs(t){t:for(var e=t.length,r=1,i=-1,o;r<e;++r)switch(t[r]){case".":i=o=r;break;case"0":i===0&&(i=r),o=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var Cr;function is(t,e){var r=Ze(t,e);if(!r)return t+"";var i=r[0],o=r[1],a=o-(Cr=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Ze(t,Math.max(0,e+a-1))[0]}function Nr(t,e){var r=Ze(t,e);if(!r)return t+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const Ar={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Qa,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Nr(t*100,e),r:Nr,s:is,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Pr(t){return t}var Mr=Array.prototype.map,$r=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function os(t){var e=t.grouping===void 0||t.thousands===void 0?Pr:ts(Mr.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Pr:es(Mr.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"\u2212":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(y){y=Qe(y);var d=y.fill,m=y.align,k=y.sign,O=y.symbol,T=y.zero,R=y.width,x=y.comma,j=y.precision,W=y.trim,M=y.type;M==="n"?(x=!0,M="g"):Ar[M]||(j===void 0&&(j=12),W=!0,M="g"),(T||d==="0"&&m==="=")&&(T=!0,d="0",m="=");var H=O==="$"?r:O==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",$=O==="$"?i:/[%p]/.test(M)?s:"",J=Ar[M],Y=/[defgprs%]/.test(M);j=j===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function K(A){var I=H,C=$,F,V,it;if(M==="c")C=J(A)+C,A="";else{A=+A;var ot=A<0||1/A<0;if(A=isNaN(A)?f:J(Math.abs(A),j),W&&(A=rs(A)),ot&&+A==0&&k!=="+"&&(ot=!1),I=(ot?k==="("?k:c:k==="-"||k==="("?"":k)+I,C=(M==="s"?$r[8+Cr/3]:"")+C+(ot&&k==="("?")":""),Y){for(F=-1,V=A.length;++F<V;)if(it=A.charCodeAt(F),48>it||it>57){C=(it===46?o+A.slice(F+1):A.slice(F))+C,A=A.slice(0,F);break}}}x&&!T&&(A=e(A,1/0));var at=I.length+A.length+C.length,B=at<R?new Array(R-at+1).join(d):"";switch(x&&T&&(A=e(B+A,B.length?R-C.length:1/0),B=""),m){case"<":A=I+A+C+B;break;case"=":A=I+B+A+C;break;case"^":A=B.slice(0,at=B.length>>1)+I+A+C+B.slice(at);break;default:A=B+I+A+C;break}return a(A)}return K.toString=function(){return y+""},K}function p(y,d){var m=h((y=Qe(y),y.type="f",y)),k=Math.max(-8,Math.min(8,Math.floor(Qt(d)/3)))*3,O=Math.pow(10,-k),T=$r[8+k/3];return function(R){return m(O*R)+T}}return{format:h,formatPrefix:p}}var tn,Fr,jr;as({thousands:",",grouping:[3],currency:["$",""]});function as(t){return tn=os(t),Fr=tn.format,jr=tn.formatPrefix,tn}function ss(t){return Math.max(0,-Qt(Math.abs(t)))}function us(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qt(e)/3)))*3-Qt(Math.abs(t)))}function cs(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qt(e)-Qt(t))+1}function fs(t,e,r,i){var o=ga(t,e,r),a;switch(i=Qe(i==null?",f":i),i.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=us(o,s))&&(i.precision=a),jr(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=cs(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=ss(o))&&(i.precision=a-(i.type==="%")*2);break}}return Fr(i)}function ls(t){var e=t.domain;return t.ticks=function(r){var i=e();return ya(i[0],i[i.length-1],r==null?10:r)},t.tickFormat=function(r,i){var o=e();return fs(o[0],o[o.length-1],r==null?10:r,i)},t.nice=function(r){r==null&&(r=10);var i=e(),o=0,a=i.length-1,s=i[o],c=i[a],f,h,p=10;for(c<s&&(h=s,s=c,c=h,h=o,o=a,a=h);p-- >0;){if(h=cr(s,c,r),h===f)return i[o]=s,i[a]=c,e(i);if(h>0)s=Math.floor(s/h)*h,c=Math.ceil(c/h)*h;else if(h<0)s=Math.ceil(s*h)/h,c=Math.floor(c*h)/h;else break;f=h}return t},t}function Dr(){var t=Za();return t.copy=function(){return Ja(t,Dr())},kn.apply(t,arguments),ls(t)}const{abs:Ir,min:Lr,max:hs,round:Wr}=Math,Yr=.3,ps=10,ds=(t,e,r,i)=>{const[o,a]=L.useState({width:0,height:0,offsetWidth:0}),[s,c]=L.useState({xScale:d=>d,yScale:d=>d}),[f,h]=L.useState({first:0,last:0}),p=L.useCallback((d,m)=>Ir(s.yScale(m)-s.yScale(d))||1,[s.yScale]),y=L.useCallback((d,m)=>s.yScale(Lr(d,m))-p(d,m)+wt,[s.yScale]);return L.useEffect(()=>{if(!(e!=null&&e.length))return;const{clientWidth:d,clientHeight:m}=t.current,k=ps*(1+Yr)*r,O=k*e.length,T=d-Jt[1]+wt*2;let R=i*r-O+T;R=R<=0?R:0,R=O>d?R:T-O,R=Ir(R-T)<=O?R:-O+T;const x=Wr((R*-1-wt)/k),j=Wr((R*-1+T)/k),W=e.slice(x>0?x:0,j),M=Lr(...W.map(({low:Y})=>Y)),H=hs(...W.map(({high:Y})=>Y)),$=hr().range([wt,O-wt]).domain(e.map(({date:Y})=>Y)).padding(Yr),J=Dr().domain([M-20,H+20]).range([m-Jt[0]-wt,wt]);h({first:x,last:j}),a({width:d,height:m,offsetWidth:R}),c({xScale:$,yScale:J})},[r,i,e]),{utils:{scaledHeight:p,scaledY:y},visibleRange:f,dimensions:o,scales:s}};var ys={value:()=>{}};function Vr(){for(var t=0,e=arguments.length,r={},i;t<e;++t){if(!(i=arguments[t]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new en(r)}function en(t){this._=t}function gs(t,e){return t.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");if(o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}en.prototype=Vr.prototype={constructor:en,on:function(t,e){var r=this._,i=gs(t+"",r),o,a=-1,s=i.length;if(arguments.length<2){for(;++a<s;)if((o=(t=i[a]).type)&&(o=ms(r[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(o=(t=i[a]).type)r[o]=Ur(r[o],t.name,e);else if(e==null)for(o in r)r[o]=Ur(r[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new en(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var r=new Array(o),i=0,o,a;i<o;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,o=a.length;i<o;++i)a[i].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,a=i.length;o<a;++o)i[o].value.apply(e,r)}};function ms(t,e){for(var r=0,i=t.length,o;r<i;++r)if((o=t[r]).name===e)return o.value}function Ur(t,e,r){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=ys,t=t.slice(0,i).concat(t.slice(i+1));break}return r!=null&&t.push({name:e,value:r}),t}var te=0,ae=0,se=0,zr=1e3,nn,ue,rn=0,Xt=0,on=0,ce=typeof performance=="object"&&performance.now?performance:Date,Hr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function $n(){return Xt||(Hr(vs),Xt=ce.now()+on)}function vs(){Xt=0}function an(){this._call=this._time=this._next=null}an.prototype=Br.prototype={constructor:an,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?$n():+r)+(e==null?0:+e),!this._next&&ue!==this&&(ue?ue._next=this:nn=this,ue=this),this._call=t,this._time=r,Fn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fn())}};function Br(t,e,r){var i=new an;return i.restart(t,e,r),i}function _s(){$n(),++te;for(var t=nn,e;t;)(e=Xt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--te}function Xr(){Xt=(rn=ce.now())+on,te=ae=0;try{_s()}finally{te=0,bs(),Xt=0}}function ws(){var t=ce.now(),e=t-rn;e>zr&&(on-=e,rn=t)}function bs(){for(var t,e=nn,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:nn=r);ue=t,Fn(i)}function Fn(t){if(!te){ae&&(ae=clearTimeout(ae));var e=t-Xt;e>24?(t<1/0&&(ae=setTimeout(Xr,t-ce.now()-on)),se&&(se=clearInterval(se))):(se||(rn=ce.now(),se=setInterval(ws,zr)),te=1,Hr(Xr))}}function qr(t,e,r){var i=new an;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,r),i}var xs=Vr("start","end","cancel","interrupt"),ks=[],Gr=0,Jr=1,jn=2,sn=3,Kr=4,Dn=5,un=6;function cn(t,e,r,i,o,a){var s=t.__transition;if(!s)t.__transition={};else if(r in s)return;Es(t,r,{name:e,index:i,group:o,on:xs,tween:ks,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Gr})}function In(t,e){var r=ft(t,e);if(r.state>Gr)throw new Error("too late; already scheduled");return r}function xt(t,e){var r=ft(t,e);if(r.state>sn)throw new Error("too late; already running");return r}function ft(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Es(t,e,r){var i=t.__transition,o;i[e]=r,r.timer=Br(a,0,r.time);function a(h){r.state=Jr,r.timer.restart(s,r.delay,r.time),r.delay<=h&&s(h-r.delay)}function s(h){var p,y,d,m;if(r.state!==Jr)return f();for(p in i)if(m=i[p],m.name===r.name){if(m.state===sn)return qr(s);m.state===Kr?(m.state=un,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete i[p]):+p<e&&(m.state=un,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete i[p])}if(qr(function(){r.state===sn&&(r.state=Kr,r.timer.restart(c,r.delay,r.time),c(h))}),r.state=jn,r.on.call("start",t,t.__data__,r.index,r.group),r.state===jn){for(r.state=sn,o=new Array(d=r.tween.length),p=0,y=-1;p<d;++p)(m=r.tween[p].value.call(t,t.__data__,r.index,r.group))&&(o[++y]=m);o.length=y+1}}function c(h){for(var p=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(f),r.state=Dn,1),y=-1,d=o.length;++y<d;)o[y].call(t,p);r.state===Dn&&(r.on.call("end",t,t.__data__,r.index,r.group),f())}function f(){r.state=un,r.timer.stop(),delete i[e];for(var h in i)return;delete t.__transition}}function Ss(t,e){var r=t.__transition,i,o,a=!0,s;if(!!r){e=e==null?null:e+"";for(s in r){if((i=r[s]).name!==e){a=!1;continue}o=i.state>jn&&i.state<Dn,i.state=un,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete r[s]}a&&delete t.__transition}}function Rs(t){return this.each(function(){Ss(this,t)})}function Os(t,e){var r,i;return function(){var o=xt(this,t),a=o.tween;if(a!==r){i=r=a;for(var s=0,c=i.length;s<c;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Ts(t,e,r){var i,o;if(typeof r!="function")throw new Error;return function(){var a=xt(this,t),s=a.tween;if(s!==i){o=(i=s).slice();for(var c={name:e,value:r},f=0,h=o.length;f<h;++f)if(o[f].name===e){o[f]=c;break}f===h&&o.push(c)}a.tween=o}}function Cs(t,e){var r=this._id;if(t+="",arguments.length<2){for(var i=ft(this.node(),r).tween,o=0,a=i.length,s;o<a;++o)if((s=i[o]).name===t)return s.value;return null}return this.each((e==null?Os:Ts)(r,t,e))}function Ln(t,e,r){var i=t._id;return t.each(function(){var o=xt(this,i);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return ft(o,i).value[e]}}function Zr(t,e){var r;return(typeof e=="number"?ct:e instanceof zt?Je:(r=zt(e))?(e=r,Je):Er)(t,e)}function Ns(t){return function(){this.removeAttribute(t)}}function As(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ps(t,e,r){var i,o=r+"",a;return function(){var s=this.getAttribute(t);return s===o?null:s===i?a:a=e(i=s,r)}}function Ms(t,e,r){var i,o=r+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?a:a=e(i=s,r)}}function $s(t,e,r){var i,o,a;return function(){var s,c=r(this),f;return c==null?void this.removeAttribute(t):(s=this.getAttribute(t),f=c+"",s===f?null:s===i&&f===o?a:(o=f,a=e(i=s,c)))}}function Fs(t,e,r){var i,o,a;return function(){var s,c=r(this),f;return c==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),f=c+"",s===f?null:s===i&&f===o?a:(o=f,a=e(i=s,c)))}}function js(t,e){var r=Ve(t),i=r==="transform"?za:Zr;return this.attrTween(t,typeof e=="function"?(r.local?Fs:$s)(r,i,Ln(this,"attr."+t,e)):e==null?(r.local?As:Ns)(r):(r.local?Ms:Ps)(r,i,e))}function Ds(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Is(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function Ls(t,e){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Is(t,a)),r}return o._value=e,o}function Ws(t,e){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Ds(t,a)),r}return o._value=e,o}function Ys(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=Ve(t);return this.tween(r,(i.local?Ls:Ws)(i,e))}function Vs(t,e){return function(){In(this,t).delay=+e.apply(this,arguments)}}function Us(t,e){return e=+e,function(){In(this,t).delay=e}}function zs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Vs:Us)(e,t)):ft(this.node(),e).delay}function Hs(t,e){return function(){xt(this,t).duration=+e.apply(this,arguments)}}function Bs(t,e){return e=+e,function(){xt(this,t).duration=e}}function Xs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Hs:Bs)(e,t)):ft(this.node(),e).duration}function qs(t,e){if(typeof e!="function")throw new Error;return function(){xt(this,t).ease=e}}function Gs(t){var e=this._id;return arguments.length?this.each(qs(e,t)):ft(this.node(),e).ease}function Js(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;xt(this,t).ease=r}}function Ks(t){if(typeof t!="function")throw new Error;return this.each(Js(this._id,t))}function Zs(t){typeof t!="function"&&(t=Jn(t));for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var a=e[o],s=a.length,c=i[o]=[],f,h=0;h<s;++h)(f=a[h])&&t.call(f,f.__data__,h,a)&&c.push(f);return new kt(i,this._parents,this._name,this._id)}function Qs(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,i=e.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var f=e[c],h=r[c],p=f.length,y=s[c]=new Array(p),d,m=0;m<p;++m)(d=f[m]||h[m])&&(y[m]=d);for(;c<i;++c)s[c]=e[c];return new kt(s,this._parents,this._name,this._id)}function tu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function eu(t,e,r){var i,o,a=tu(e)?In:xt;return function(){var s=a(this,t),c=s.on;c!==i&&(o=(i=c).copy()).on(e,r),s.on=o}}function nu(t,e){var r=this._id;return arguments.length<2?ft(this.node(),r).on.on(t):this.each(eu(r,t,e))}function ru(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function iu(){return this.on("end.remove",ru(this._id))}function ou(t){var e=this._name,r=this._id;typeof t!="function"&&(t=mn(t));for(var i=this._groups,o=i.length,a=new Array(o),s=0;s<o;++s)for(var c=i[s],f=c.length,h=a[s]=new Array(f),p,y,d=0;d<f;++d)(p=c[d])&&(y=t.call(p,p.__data__,d,c))&&("__data__"in p&&(y.__data__=p.__data__),h[d]=y,cn(h[d],e,r,d,h,ft(p,r)));return new kt(a,this._parents,e,r)}function au(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Gn(t));for(var i=this._groups,o=i.length,a=[],s=[],c=0;c<o;++c)for(var f=i[c],h=f.length,p,y=0;y<h;++y)if(p=f[y]){for(var d=t.call(p,p.__data__,y,f),m,k=ft(p,r),O=0,T=d.length;O<T;++O)(m=d[O])&&cn(m,e,r,O,d,k);a.push(d),s.push(p)}return new kt(a,s,e,r)}var su=ee.prototype.constructor;function uu(){return new su(this._groups,this._parents)}function cu(t,e){var r,i,o;return function(){var a=Gt(this,t),s=(this.style.removeProperty(t),Gt(this,t));return a===s?null:a===r&&s===i?o:o=e(r=a,i=s)}}function Qr(t){return function(){this.style.removeProperty(t)}}function fu(t,e,r){var i,o=r+"",a;return function(){var s=Gt(this,t);return s===o?null:s===i?a:a=e(i=s,r)}}function lu(t,e,r){var i,o,a;return function(){var s=Gt(this,t),c=r(this),f=c+"";return c==null&&(f=c=(this.style.removeProperty(t),Gt(this,t))),s===f?null:s===i&&f===o?a:(o=f,a=e(i=s,c))}}function hu(t,e){var r,i,o,a="style."+e,s="end."+a,c;return function(){var f=xt(this,t),h=f.on,p=f.value[a]==null?c||(c=Qr(e)):void 0;(h!==r||o!==p)&&(i=(r=h).copy()).on(s,o=p),f.on=i}}function pu(t,e,r){var i=(t+="")=="transform"?Ua:Zr;return e==null?this.styleTween(t,cu(t,i)).on("end.style."+t,Qr(t)):typeof e=="function"?this.styleTween(t,lu(t,i,Ln(this,"style."+t,e))).each(hu(this._id,t)):this.styleTween(t,fu(t,i,e),r).on("end.style."+t,null)}function du(t,e,r){return function(i){this.style.setProperty(t,e.call(this,i),r)}}function yu(t,e,r){var i,o;function a(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&du(t,s,r)),i}return a._value=e,a}function gu(t,e,r){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,yu(t,e,r==null?"":r))}function mu(t){return function(){this.textContent=t}}function vu(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function _u(t){return this.tween("text",typeof t=="function"?vu(Ln(this,"text",t)):mu(t==null?"":t+""))}function wu(t){return function(e){this.textContent=t.call(this,e)}}function bu(t){var e,r;function i(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&wu(o)),e}return i._value=t,i}function xu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,bu(t))}function ku(){for(var t=this._name,e=this._id,r=ti(),i=this._groups,o=i.length,a=0;a<o;++a)for(var s=i[a],c=s.length,f,h=0;h<c;++h)if(f=s[h]){var p=ft(f,e);cn(f,t,r,h,s,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new kt(i,this._parents,t,r)}function Eu(){var t,e,r=this,i=r._id,o=r.size();return new Promise(function(a,s){var c={value:s},f={value:function(){--o===0&&a()}};r.each(function(){var h=xt(this,i),p=h.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(f)),h.on=e}),o===0&&a()})}var Su=0;function kt(t,e,r,i){this._groups=t,this._parents=e,this._name=r,this._id=i}function ti(){return++Su}var Et=ee.prototype;kt.prototype={constructor:kt,select:ou,selectAll:au,selectChild:Et.selectChild,selectChildren:Et.selectChildren,filter:Zs,merge:Qs,selection:uu,transition:ku,call:Et.call,nodes:Et.nodes,node:Et.node,size:Et.size,empty:Et.empty,each:Et.each,on:nu,attr:js,attrTween:Ys,style:pu,styleTween:gu,text:_u,textTween:xu,remove:iu,tween:Cs,delay:zs,duration:Xs,ease:Gs,easeVarying:Ks,end:Eu,[Symbol.iterator]:Et[Symbol.iterator]};function Ru(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ou={time:null,delay:0,duration:250,ease:Ru};function Tu(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function Cu(t){var e,r;t instanceof kt?(e=t._id,t=t._name):(e=ti(),(r=Ou).time=$n(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var s=i[a],c=s.length,f,h=0;h<c;++h)(f=s[h])&&cn(f,t,e,h,s,r||Tu(f,e));return new kt(i,this._parents,t,e)}ee.prototype.interrupt=Rs,ee.prototype.transition=Cu;const ei={wicks:"line",candles:"rect"},Nu=(t,e,r,i,o,a,s)=>{const{xScale:c}=i,{offsetWidth:f}=o,{scaledHeight:h,scaledY:p}=a,y=L.useRef({}),d=()=>ze(t.current),m=(T,R=d())=>R.selectAll(`${ei[T]}.${T}`).data(e),k=T=>{var R;return y.current[T]=(R=y.current[T])!=null?R:d().append("g").classed(`${T}-group`,!0).attr("clip-path","url(#chart-contents)"),y.current[T]},O=(T,R)=>{let x=m(T,k(T));x.size()!==e.length&&(x=x.enter().append(ei[T]));const j=()=>x.classed(T,!0).transition().duration(oa),W=$=>Number(c($.date))+(T==="wicks"?+c.bandwidth()/2:0)+f,M=$=>p($[R[0]],$[R[1]]),H=$=>h($[R[0]],$[R[1]]);return T==="candles"?j().attr("width",()=>+c.bandwidth()).attr("height",H).attr("x",W).attr("y",M):j().attr("x1",W).attr("y1",M).attr("x2",W).attr("y2",$=>M($)+H($)),x.exit().remove(),x};L.useEffect(()=>{k("wicks"),k("candles")},[]),L.useEffect(()=>{var T;(T=c==null?void 0:c.bandwidth)!=null&&T.call(c)&&(O("wicks",["low","high"]),O("candles",["open","close"]).attr("fill",R=>R.close<R.open?"red":"green"))},[c])};var Wn={exports:{}},fe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni;function Au(){if(ni)return fe;ni=1;var t=qt.default,e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(c,f,h){var p,y={},d=null,m=null;h!==void 0&&(d=""+h),f.key!==void 0&&(d=""+f.key),f.ref!==void 0&&(m=f.ref);for(p in f)i.call(f,p)&&!a.hasOwnProperty(p)&&(y[p]=f[p]);if(c&&c.defaultProps)for(p in f=c.defaultProps,f)y[p]===void 0&&(y[p]=f[p]);return{$$typeof:e,type:c,key:d,ref:m,props:y,_owner:o.current}}return fe.Fragment=r,fe.jsx=s,fe.jsxs=s,fe}var le={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ri;function Pu(){return ri||(ri=1,process.env.NODE_ENV!=="production"&&function(){var t=qt.default,e=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),k=Symbol.iterator,O="@@iterator";function T(n){if(n===null||typeof n!="object")return null;var u=k&&n[k]||n[O];return typeof u=="function"?u:null}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function x(n){{for(var u=arguments.length,l=new Array(u>1?u-1:0),g=1;g<u;g++)l[g-1]=arguments[g];j("error",n,l)}}function j(n,u,l){{var g=R.ReactDebugCurrentFrame,w=g.getStackAddendum();w!==""&&(u+="%s",l=l.concat([w]));var b=l.map(function(_){return String(_)});b.unshift("Warning: "+u),Function.prototype.apply.call(console[n],console,b)}}var W=!1,M=!1,H=!1,$=!1,J=!1,Y;Y=Symbol.for("react.module.reference");function K(n){return!!(typeof n=="string"||typeof n=="function"||n===i||n===a||J||n===o||n===h||n===p||$||n===m||W||M||H||typeof n=="object"&&n!==null&&(n.$$typeof===d||n.$$typeof===y||n.$$typeof===s||n.$$typeof===c||n.$$typeof===f||n.$$typeof===Y||n.getModuleId!==void 0))}function A(n,u,l){var g=n.displayName;if(g)return g;var w=u.displayName||u.name||"";return w!==""?l+"("+w+")":l}function I(n){return n.displayName||"Context"}function C(n){if(n==null)return null;if(typeof n.tag=="number"&&x("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case i:return"Fragment";case r:return"Portal";case a:return"Profiler";case o:return"StrictMode";case h:return"Suspense";case p:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case c:var u=n;return I(u)+".Consumer";case s:var l=n;return I(l._context)+".Provider";case f:return A(n,n.render,"ForwardRef");case y:var g=n.displayName||null;return g!==null?g:C(n.type)||"Memo";case d:{var w=n,b=w._payload,_=w._init;try{return C(_(b))}catch{return null}}}return null}var F=Object.assign,V=0,it,ot,at,B,Rt,Ot,Tt;function Ct(){}Ct.__reactDisabledLog=!0;function ye(){{if(V===0){it=console.log,ot=console.info,at=console.warn,B=console.error,Rt=console.group,Ot=console.groupCollapsed,Tt=console.groupEnd;var n={configurable:!0,enumerable:!0,value:Ct,writable:!0};Object.defineProperties(console,{info:n,log:n,warn:n,error:n,group:n,groupCollapsed:n,groupEnd:n})}V++}}function ge(){{if(V--,V===0){var n={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:F({},n,{value:it}),info:F({},n,{value:ot}),warn:F({},n,{value:at}),error:F({},n,{value:B}),group:F({},n,{value:Rt}),groupCollapsed:F({},n,{value:Ot}),groupEnd:F({},n,{value:Tt})})}V<0&&x("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var lt=R.ReactCurrentDispatcher,ht;function Z(n,u,l){{if(ht===void 0)try{throw Error()}catch(w){var g=w.stack.trim().match(/\n( *(at )?)/);ht=g&&g[1]||""}return`
`+ht+n}}var pt=!1,Q;{var me=typeof WeakMap=="function"?WeakMap:Map;Q=new me}function Nt(n,u){if(!n||pt)return"";{var l=Q.get(n);if(l!==void 0)return l}var g;pt=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var b;b=lt.current,lt.current=null,ye();try{if(u){var _=function(){throw Error()};if(Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(D){g=D}Reflect.construct(n,[],_)}else{try{_.call()}catch(D){g=D}n.call(_.prototype)}}else{try{throw Error()}catch(D){g=D}n()}}catch(D){if(D&&g&&typeof D.stack=="string"){for(var v=D.stack.split(`
`),N=g.stack.split(`
`),E=v.length-1,S=N.length-1;E>=1&&S>=0&&v[E]!==N[S];)S--;for(;E>=1&&S>=0;E--,S--)if(v[E]!==N[S]){if(E!==1||S!==1)do if(E--,S--,S<0||v[E]!==N[S]){var P=`
`+v[E].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),typeof n=="function"&&Q.set(n,P),P}while(E>=1&&S>=0);break}}}finally{pt=!1,lt.current=b,ge(),Error.prepareStackTrace=w}var z=n?n.displayName||n.name:"",Ut=z?Z(z):"";return typeof n=="function"&&Q.set(n,Ut),Ut}function ve(n,u,l){return Nt(n,!1)}function _e(n){var u=n.prototype;return!!(u&&u.isReactComponent)}function tt(n,u,l){if(n==null)return"";if(typeof n=="function")return Nt(n,_e(n));if(typeof n=="string")return Z(n);switch(n){case h:return Z("Suspense");case p:return Z("SuspenseList")}if(typeof n=="object")switch(n.$$typeof){case f:return ve(n.render);case y:return tt(n.type,u,l);case d:{var g=n,w=g._payload,b=g._init;try{return tt(b(w),u,l)}catch{}}}return""}var et=Object.prototype.hasOwnProperty,At={},Pt=R.ReactDebugCurrentFrame;function nt(n){if(n){var u=n._owner,l=tt(n.type,n._source,u?u.type:null);Pt.setExtraStackFrame(l)}else Pt.setExtraStackFrame(null)}function we(n,u,l,g,w){{var b=Function.call.bind(et);for(var _ in n)if(b(n,_)){var v=void 0;try{if(typeof n[_]!="function"){var N=Error((g||"React class")+": "+l+" type `"+_+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof n[_]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw N.name="Invariant Violation",N}v=n[_](u,_,g,l,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(E){v=E}v&&!(v instanceof Error)&&(nt(w),x("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",g||"React class",l,_,typeof v),nt(null)),v instanceof Error&&!(v.message in At)&&(At[v.message]=!0,nt(w),x("Failed %s type: %s",l,v.message),nt(null))}}}var be=Array.isArray;function dt(n){return be(n)}function xe(n){{var u=typeof Symbol=="function"&&Symbol.toStringTag,l=u&&n[Symbol.toStringTag]||n.constructor.name||"Object";return l}}function ke(n){try{return Mt(n),!1}catch{return!0}}function Mt(n){return""+n}function $t(n){if(ke(n))return x("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",xe(n)),Mt(n)}var X=R.ReactCurrentOwner,Ee={key:!0,ref:!0,__self:!0,__source:!0},Ft,jt,yt;yt={};function Se(n){if(et.call(n,"ref")){var u=Object.getOwnPropertyDescriptor(n,"ref").get;if(u&&u.isReactWarning)return!1}return n.ref!==void 0}function Re(n){if(et.call(n,"key")){var u=Object.getOwnPropertyDescriptor(n,"key").get;if(u&&u.isReactWarning)return!1}return n.key!==void 0}function Oe(n,u){if(typeof n.ref=="string"&&X.current&&u&&X.current.stateNode!==u){var l=C(X.current.type);yt[l]||(x('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',C(X.current.type),n.ref),yt[l]=!0)}}function Te(n,u){{var l=function(){Ft||(Ft=!0,x("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",u))};l.isReactWarning=!0,Object.defineProperty(n,"key",{get:l,configurable:!0})}}function Ce(n,u){{var l=function(){jt||(jt=!0,x("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",u))};l.isReactWarning=!0,Object.defineProperty(n,"ref",{get:l,configurable:!0})}}var Ne=function(n,u,l,g,w,b,_){var v={$$typeof:e,type:n,key:u,ref:l,props:_,_owner:b};return v._store={},Object.defineProperty(v._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(v,"_self",{configurable:!1,enumerable:!1,writable:!1,value:g}),Object.defineProperty(v,"_source",{configurable:!1,enumerable:!1,writable:!1,value:w}),Object.freeze&&(Object.freeze(v.props),Object.freeze(v)),v};function Ae(n,u,l,g,w){{var b,_={},v=null,N=null;l!==void 0&&($t(l),v=""+l),Re(u)&&($t(u.key),v=""+u.key),Se(u)&&(N=u.ref,Oe(u,w));for(b in u)et.call(u,b)&&!Ee.hasOwnProperty(b)&&(_[b]=u[b]);if(n&&n.defaultProps){var E=n.defaultProps;for(b in E)_[b]===void 0&&(_[b]=E[b])}if(v||N){var S=typeof n=="function"?n.displayName||n.name||"Unknown":n;v&&Te(_,S),N&&Ce(_,S)}return Ne(n,v,N,w,g,X.current,_)}}var gt=R.ReactCurrentOwner,Dt=R.ReactDebugCurrentFrame;function U(n){if(n){var u=n._owner,l=tt(n.type,n._source,u?u.type:null);Dt.setExtraStackFrame(l)}else Dt.setExtraStackFrame(null)}var mt;mt=!1;function vt(n){return typeof n=="object"&&n!==null&&n.$$typeof===e}function It(){{if(gt.current){var n=C(gt.current.type);if(n)return`

Check the render method of \``+n+"`."}return""}}function Pe(n){{if(n!==void 0){var u=n.fileName.replace(/^.*[\\\/]/,""),l=n.lineNumber;return`

Check your code at `+u+":"+l+"."}return""}}var Lt={};function Me(n){{var u=It();if(!u){var l=typeof n=="string"?n:n.displayName||n.name;l&&(u=`

Check the top-level render call using <`+l+">.")}return u}}function Wt(n,u){{if(!n._store||n._store.validated||n.key!=null)return;n._store.validated=!0;var l=Me(u);if(Lt[l])return;Lt[l]=!0;var g="";n&&n._owner&&n._owner!==gt.current&&(g=" It was passed a child from "+C(n._owner.type)+"."),U(n),x('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',l,g),U(null)}}function Yt(n,u){{if(typeof n!="object")return;if(dt(n))for(var l=0;l<n.length;l++){var g=n[l];vt(g)&&Wt(g,u)}else if(vt(n))n._store&&(n._store.validated=!0);else if(n){var w=T(n);if(typeof w=="function"&&w!==n.entries)for(var b=w.call(n),_;!(_=b.next()).done;)vt(_.value)&&Wt(_.value,u)}}}function $e(n){{var u=n.type;if(u==null||typeof u=="string")return;var l;if(typeof u=="function")l=u.propTypes;else if(typeof u=="object"&&(u.$$typeof===f||u.$$typeof===y))l=u.propTypes;else return;if(l){var g=C(u);we(l,n.props,"prop",g,n)}else if(u.PropTypes!==void 0&&!mt){mt=!0;var w=C(u);x("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",w||"Unknown")}typeof u.getDefaultProps=="function"&&!u.getDefaultProps.isReactClassApproved&&x("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Fe(n){{for(var u=Object.keys(n.props),l=0;l<u.length;l++){var g=u[l];if(g!=="children"&&g!=="key"){U(n),x("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",g),U(null);break}}n.ref!==null&&(U(n),x("Invalid attribute `ref` supplied to `React.Fragment`."),U(null))}}function Vt(n,u,l,g,w,b){{var _=K(n);if(!_){var v="";(n===void 0||typeof n=="object"&&n!==null&&Object.keys(n).length===0)&&(v+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var N=Pe(w);N?v+=N:v+=It();var E;n===null?E="null":dt(n)?E="array":n!==void 0&&n.$$typeof===e?(E="<"+(C(n.type)||"Unknown")+" />",v=" Did you accidentally export a JSX literal instead of a component?"):E=typeof n,x("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",E,v)}var S=Ae(n,u,l,w,b);if(S==null)return S;if(_){var P=u.children;if(P!==void 0)if(g)if(dt(P)){for(var z=0;z<P.length;z++)Yt(P[z],n);Object.freeze&&Object.freeze(P)}else x("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Yt(P,n)}return n===i?Fe(S):$e(S),S}}function je(n,u,l){return Vt(n,u,l,!0)}function De(n,u,l){return Vt(n,u,l,!1)}var Ie=De,Le=je;le.Fragment=i,le.jsx=Ie,le.jsxs=Le}()),le}(function(t){process.env.NODE_ENV==="production"?t.exports=Au():t.exports=Pu()})(Wn);const q=Wn.exports.jsx,Yn=Wn.exports.jsxs,Mu=({width:t,height:e})=>{const r={x:0,y:0,width:t?t-Jt[1]+wt:0,height:e?e-Jt[0]:0};return Yn("defs",{children:[q("clipPath",{id:"chart-contents",children:q("rect",{...r})}),q("clipPath",{id:"bottom-axis",children:q("rect",{...r,height:`${e}`})})]})},ii={default:"black",pending:"blue",error:"red",success:"green"},$u="font-family: serif;",Fu=st.default.button(({status:t,minWidth:e,margin:r})=>_t.css`
    ${$u}
    border: 1px solid ${ii[t]};
    color: ${ii[t]};
    background-color: white;
    border-radius: 6px;
    min-width: ${e};
    padding: 8px;
    margin: ${r};
    cursor: pointer;
    box-shadow: 2px 2px 2px 0px rgb(61 61 61 / 20%);
    &:hover {
      filter: brightness(85%);
    }
    &:disabled {
      color: grey;
      cursor: default;
      filter: brightness(95%);
    }
  `);var oi={exports:{}},he={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai;function ju(){if(ai)return he;ai=1;var t=qt.default,e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(c,f,h){var p,y={},d=null,m=null;h!==void 0&&(d=""+h),f.key!==void 0&&(d=""+f.key),f.ref!==void 0&&(m=f.ref);for(p in f)i.call(f,p)&&!a.hasOwnProperty(p)&&(y[p]=f[p]);if(c&&c.defaultProps)for(p in f=c.defaultProps,f)y[p]===void 0&&(y[p]=f[p]);return{$$typeof:e,type:c,key:d,ref:m,props:y,_owner:o.current}}return he.Fragment=r,he.jsx=s,he.jsxs=s,he}var fn={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var si;function Du(){return si||(si=1,process.env.NODE_ENV!=="production"&&function(){var t=qt.default,e=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),k=Symbol.iterator,O="@@iterator";function T(n){if(n===null||typeof n!="object")return null;var u=k&&n[k]||n[O];return typeof u=="function"?u:null}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function x(n){{for(var u=arguments.length,l=new Array(u>1?u-1:0),g=1;g<u;g++)l[g-1]=arguments[g];j("error",n,l)}}function j(n,u,l){{var g=R.ReactDebugCurrentFrame,w=g.getStackAddendum();w!==""&&(u+="%s",l=l.concat([w]));var b=l.map(function(_){return String(_)});b.unshift("Warning: "+u),Function.prototype.apply.call(console[n],console,b)}}var W=!1,M=!1,H=!1,$=!1,J=!1,Y;Y=Symbol.for("react.module.reference");function K(n){return!!(typeof n=="string"||typeof n=="function"||n===i||n===a||J||n===o||n===h||n===p||$||n===m||W||M||H||typeof n=="object"&&n!==null&&(n.$$typeof===d||n.$$typeof===y||n.$$typeof===s||n.$$typeof===c||n.$$typeof===f||n.$$typeof===Y||n.getModuleId!==void 0))}function A(n,u,l){var g=n.displayName;if(g)return g;var w=u.displayName||u.name||"";return w!==""?l+"("+w+")":l}function I(n){return n.displayName||"Context"}function C(n){if(n==null)return null;if(typeof n.tag=="number"&&x("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case i:return"Fragment";case r:return"Portal";case a:return"Profiler";case o:return"StrictMode";case h:return"Suspense";case p:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case c:var u=n;return I(u)+".Consumer";case s:var l=n;return I(l._context)+".Provider";case f:return A(n,n.render,"ForwardRef");case y:var g=n.displayName||null;return g!==null?g:C(n.type)||"Memo";case d:{var w=n,b=w._payload,_=w._init;try{return C(_(b))}catch{return null}}}return null}var F=Object.assign,V=0,it,ot,at,B,Rt,Ot,Tt;function Ct(){}Ct.__reactDisabledLog=!0;function ye(){{if(V===0){it=console.log,ot=console.info,at=console.warn,B=console.error,Rt=console.group,Ot=console.groupCollapsed,Tt=console.groupEnd;var n={configurable:!0,enumerable:!0,value:Ct,writable:!0};Object.defineProperties(console,{info:n,log:n,warn:n,error:n,group:n,groupCollapsed:n,groupEnd:n})}V++}}function ge(){{if(V--,V===0){var n={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:F({},n,{value:it}),info:F({},n,{value:ot}),warn:F({},n,{value:at}),error:F({},n,{value:B}),group:F({},n,{value:Rt}),groupCollapsed:F({},n,{value:Ot}),groupEnd:F({},n,{value:Tt})})}V<0&&x("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var lt=R.ReactCurrentDispatcher,ht;function Z(n,u,l){{if(ht===void 0)try{throw Error()}catch(w){var g=w.stack.trim().match(/\n( *(at )?)/);ht=g&&g[1]||""}return`
`+ht+n}}var pt=!1,Q;{var me=typeof WeakMap=="function"?WeakMap:Map;Q=new me}function Nt(n,u){if(!n||pt)return"";{var l=Q.get(n);if(l!==void 0)return l}var g;pt=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var b;b=lt.current,lt.current=null,ye();try{if(u){var _=function(){throw Error()};if(Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(D){g=D}Reflect.construct(n,[],_)}else{try{_.call()}catch(D){g=D}n.call(_.prototype)}}else{try{throw Error()}catch(D){g=D}n()}}catch(D){if(D&&g&&typeof D.stack=="string"){for(var v=D.stack.split(`
`),N=g.stack.split(`
`),E=v.length-1,S=N.length-1;E>=1&&S>=0&&v[E]!==N[S];)S--;for(;E>=1&&S>=0;E--,S--)if(v[E]!==N[S]){if(E!==1||S!==1)do if(E--,S--,S<0||v[E]!==N[S]){var P=`
`+v[E].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),typeof n=="function"&&Q.set(n,P),P}while(E>=1&&S>=0);break}}}finally{pt=!1,lt.current=b,ge(),Error.prepareStackTrace=w}var z=n?n.displayName||n.name:"",Ut=z?Z(z):"";return typeof n=="function"&&Q.set(n,Ut),Ut}function ve(n,u,l){return Nt(n,!1)}function _e(n){var u=n.prototype;return!!(u&&u.isReactComponent)}function tt(n,u,l){if(n==null)return"";if(typeof n=="function")return Nt(n,_e(n));if(typeof n=="string")return Z(n);switch(n){case h:return Z("Suspense");case p:return Z("SuspenseList")}if(typeof n=="object")switch(n.$$typeof){case f:return ve(n.render);case y:return tt(n.type,u,l);case d:{var g=n,w=g._payload,b=g._init;try{return tt(b(w),u,l)}catch{}}}return""}var et=Object.prototype.hasOwnProperty,At={},Pt=R.ReactDebugCurrentFrame;function nt(n){if(n){var u=n._owner,l=tt(n.type,n._source,u?u.type:null);Pt.setExtraStackFrame(l)}else Pt.setExtraStackFrame(null)}function we(n,u,l,g,w){{var b=Function.call.bind(et);for(var _ in n)if(b(n,_)){var v=void 0;try{if(typeof n[_]!="function"){var N=Error((g||"React class")+": "+l+" type `"+_+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof n[_]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw N.name="Invariant Violation",N}v=n[_](u,_,g,l,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(E){v=E}v&&!(v instanceof Error)&&(nt(w),x("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",g||"React class",l,_,typeof v),nt(null)),v instanceof Error&&!(v.message in At)&&(At[v.message]=!0,nt(w),x("Failed %s type: %s",l,v.message),nt(null))}}}var be=Array.isArray;function dt(n){return be(n)}function xe(n){{var u=typeof Symbol=="function"&&Symbol.toStringTag,l=u&&n[Symbol.toStringTag]||n.constructor.name||"Object";return l}}function ke(n){try{return Mt(n),!1}catch{return!0}}function Mt(n){return""+n}function $t(n){if(ke(n))return x("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",xe(n)),Mt(n)}var X=R.ReactCurrentOwner,Ee={key:!0,ref:!0,__self:!0,__source:!0},Ft,jt,yt;yt={};function Se(n){if(et.call(n,"ref")){var u=Object.getOwnPropertyDescriptor(n,"ref").get;if(u&&u.isReactWarning)return!1}return n.ref!==void 0}function Re(n){if(et.call(n,"key")){var u=Object.getOwnPropertyDescriptor(n,"key").get;if(u&&u.isReactWarning)return!1}return n.key!==void 0}function Oe(n,u){if(typeof n.ref=="string"&&X.current&&u&&X.current.stateNode!==u){var l=C(X.current.type);yt[l]||(x('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',C(X.current.type),n.ref),yt[l]=!0)}}function Te(n,u){{var l=function(){Ft||(Ft=!0,x("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",u))};l.isReactWarning=!0,Object.defineProperty(n,"key",{get:l,configurable:!0})}}function Ce(n,u){{var l=function(){jt||(jt=!0,x("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",u))};l.isReactWarning=!0,Object.defineProperty(n,"ref",{get:l,configurable:!0})}}var Ne=function(n,u,l,g,w,b,_){var v={$$typeof:e,type:n,key:u,ref:l,props:_,_owner:b};return v._store={},Object.defineProperty(v._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(v,"_self",{configurable:!1,enumerable:!1,writable:!1,value:g}),Object.defineProperty(v,"_source",{configurable:!1,enumerable:!1,writable:!1,value:w}),Object.freeze&&(Object.freeze(v.props),Object.freeze(v)),v};function Ae(n,u,l,g,w){{var b,_={},v=null,N=null;l!==void 0&&($t(l),v=""+l),Re(u)&&($t(u.key),v=""+u.key),Se(u)&&(N=u.ref,Oe(u,w));for(b in u)et.call(u,b)&&!Ee.hasOwnProperty(b)&&(_[b]=u[b]);if(n&&n.defaultProps){var E=n.defaultProps;for(b in E)_[b]===void 0&&(_[b]=E[b])}if(v||N){var S=typeof n=="function"?n.displayName||n.name||"Unknown":n;v&&Te(_,S),N&&Ce(_,S)}return Ne(n,v,N,w,g,X.current,_)}}var gt=R.ReactCurrentOwner,Dt=R.ReactDebugCurrentFrame;function U(n){if(n){var u=n._owner,l=tt(n.type,n._source,u?u.type:null);Dt.setExtraStackFrame(l)}else Dt.setExtraStackFrame(null)}var mt;mt=!1;function vt(n){return typeof n=="object"&&n!==null&&n.$$typeof===e}function It(){{if(gt.current){var n=C(gt.current.type);if(n)return`

Check the render method of \``+n+"`."}return""}}function Pe(n){{if(n!==void 0){var u=n.fileName.replace(/^.*[\\\/]/,""),l=n.lineNumber;return`

Check your code at `+u+":"+l+"."}return""}}var Lt={};function Me(n){{var u=It();if(!u){var l=typeof n=="string"?n:n.displayName||n.name;l&&(u=`

Check the top-level render call using <`+l+">.")}return u}}function Wt(n,u){{if(!n._store||n._store.validated||n.key!=null)return;n._store.validated=!0;var l=Me(u);if(Lt[l])return;Lt[l]=!0;var g="";n&&n._owner&&n._owner!==gt.current&&(g=" It was passed a child from "+C(n._owner.type)+"."),U(n),x('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',l,g),U(null)}}function Yt(n,u){{if(typeof n!="object")return;if(dt(n))for(var l=0;l<n.length;l++){var g=n[l];vt(g)&&Wt(g,u)}else if(vt(n))n._store&&(n._store.validated=!0);else if(n){var w=T(n);if(typeof w=="function"&&w!==n.entries)for(var b=w.call(n),_;!(_=b.next()).done;)vt(_.value)&&Wt(_.value,u)}}}function $e(n){{var u=n.type;if(u==null||typeof u=="string")return;var l;if(typeof u=="function")l=u.propTypes;else if(typeof u=="object"&&(u.$$typeof===f||u.$$typeof===y))l=u.propTypes;else return;if(l){var g=C(u);we(l,n.props,"prop",g,n)}else if(u.PropTypes!==void 0&&!mt){mt=!0;var w=C(u);x("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",w||"Unknown")}typeof u.getDefaultProps=="function"&&!u.getDefaultProps.isReactClassApproved&&x("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Fe(n){{for(var u=Object.keys(n.props),l=0;l<u.length;l++){var g=u[l];if(g!=="children"&&g!=="key"){U(n),x("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",g),U(null);break}}n.ref!==null&&(U(n),x("Invalid attribute `ref` supplied to `React.Fragment`."),U(null))}}function Vt(n,u,l,g,w,b){{var _=K(n);if(!_){var v="";(n===void 0||typeof n=="object"&&n!==null&&Object.keys(n).length===0)&&(v+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var N=Pe(w);N?v+=N:v+=It();var E;n===null?E="null":dt(n)?E="array":n!==void 0&&n.$$typeof===e?(E="<"+(C(n.type)||"Unknown")+" />",v=" Did you accidentally export a JSX literal instead of a component?"):E=typeof n,x("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",E,v)}var S=Ae(n,u,l,w,b);if(S==null)return S;if(_){var P=u.children;if(P!==void 0)if(g)if(dt(P)){for(var z=0;z<P.length;z++)Yt(P[z],n);Object.freeze&&Object.freeze(P)}else x("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Yt(P,n)}return n===i?Fe(S):$e(S),S}}function je(n,u,l){return Vt(n,u,l,!0)}function De(n,u,l){return Vt(n,u,l,!1)}var Ie=De,Le=je;fn.Fragment=i,fn.jsx=Ie,fn.jsxs=Le}()),fn}(function(t){process.env.NODE_ENV==="production"?t.exports=ju():t.exports=Du()})(oi);const Iu=oi.exports.jsx,ln=({children:t,status:e="default",dataSelector:r="pi-lib-button",minWidth:i="220px",margin:o="10px",...a})=>Iu(Fu,{status:e,...a,minWidth:i,margin:o,"data-selector":r,children:t}),Lu=st.default.div`
  margin: 10px;
  position: absolute;
`,ui=st.default.div(({rotate:t})=>_t.css`
    rotate: ${t}deg;
  `),St=.2,ci=100,Wu=({zoomLevel:t,setZoomLevel:e,setPanLevel:r,visibleRange:i,length:o})=>{const a={minWidth:"auto",margin:"5px"};return Yn(Lu,{children:[q(ln,{...a,onClick:()=>r(s=>s+ci/t),disabled:i.first<=0,children:q(ui,{rotate:-90,children:"\u{1F53A}"})}),q(ln,{...a,onClick:()=>e(s=>+(s-St>0?s-St:St/2).toFixed(2)),disabled:t<St||i.first<=0,children:"\u2796"}),q(ln,{...a,onClick:()=>e(s=>+(s===St/2?St:s+St).toFixed(2)),disabled:t>=St*10,children:"\u2795"}),q(ln,{...a,onClick:()=>r(s=>s-ci/t),disabled:i.last>=o-1||i.last-i.first>o,children:q(ui,{rotate:90,children:"\u{1F53A}"})})]})},fi={default:"black",pending:"blue",error:"red",success:"green"},li=_t.keyframes`
  to {
    rotate: 360deg;
  }
`,Yu=_t.keyframes`
  to {
    height: 3px;
    width: 3px;
    margin: 3px;
    opacity: 0.3;
  }
`,Vu=st.default.div`
  width: 24px;
  height: 24px;
  margin: -8px 0;
  position: relative;
  display: inline-block;
`,Uu=st.default.div`
  position: absolute;
  left: 0;
  display: inline-flex;
  flex-direction: column;
  justify-content: space-between;
  animation: ${li} 2s linear infinite;
  margin: 2px;
`,hi=st.default.div`
  height: 8px;
  display: flex;
  justify-content: space-between;
  width: 100%;
  height: auto;
`,hn=st.default.div(({delay:t})=>_t.css`
    width: 7px;
    height: 7px;
    margin: 2px;
    opacity: 0.6;
    display: inline-block;
    border-radius: 50%;
    background: ${fi.pending};
    animation: ${Yu} 0.3s linear alternate infinite;

    ${t?"animation-delay: 0.2s;":""}
  `);st.default.div`
  height: inherit;
  width: inherit;
  position: absolute;
  border-radius: 50%;
  box-shadow: inset 0 0 0px 2px ${fi.pending};
  overflow: hidden;
  clip-path: polygon(
    -5px -5px,
    50% -5px,
    50% 50%,
    100% 50%,
    100% 100%,
    -5px 100%
  );
  animation: ${li} 2s linear infinite;
`;var Vn={exports:{}},pe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi;function zu(){if(pi)return pe;pi=1;var t=qt.default,e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(c,f,h){var p,y={},d=null,m=null;h!==void 0&&(d=""+h),f.key!==void 0&&(d=""+f.key),f.ref!==void 0&&(m=f.ref);for(p in f)i.call(f,p)&&!a.hasOwnProperty(p)&&(y[p]=f[p]);if(c&&c.defaultProps)for(p in f=c.defaultProps,f)y[p]===void 0&&(y[p]=f[p]);return{$$typeof:e,type:c,key:d,ref:m,props:y,_owner:o.current}}return pe.Fragment=r,pe.jsx=s,pe.jsxs=s,pe}var pn={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var di;function Hu(){return di||(di=1,process.env.NODE_ENV!=="production"&&function(){var t=qt.default,e=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),k=Symbol.iterator,O="@@iterator";function T(n){if(n===null||typeof n!="object")return null;var u=k&&n[k]||n[O];return typeof u=="function"?u:null}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function x(n){{for(var u=arguments.length,l=new Array(u>1?u-1:0),g=1;g<u;g++)l[g-1]=arguments[g];j("error",n,l)}}function j(n,u,l){{var g=R.ReactDebugCurrentFrame,w=g.getStackAddendum();w!==""&&(u+="%s",l=l.concat([w]));var b=l.map(function(_){return String(_)});b.unshift("Warning: "+u),Function.prototype.apply.call(console[n],console,b)}}var W=!1,M=!1,H=!1,$=!1,J=!1,Y;Y=Symbol.for("react.module.reference");function K(n){return!!(typeof n=="string"||typeof n=="function"||n===i||n===a||J||n===o||n===h||n===p||$||n===m||W||M||H||typeof n=="object"&&n!==null&&(n.$$typeof===d||n.$$typeof===y||n.$$typeof===s||n.$$typeof===c||n.$$typeof===f||n.$$typeof===Y||n.getModuleId!==void 0))}function A(n,u,l){var g=n.displayName;if(g)return g;var w=u.displayName||u.name||"";return w!==""?l+"("+w+")":l}function I(n){return n.displayName||"Context"}function C(n){if(n==null)return null;if(typeof n.tag=="number"&&x("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case i:return"Fragment";case r:return"Portal";case a:return"Profiler";case o:return"StrictMode";case h:return"Suspense";case p:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case c:var u=n;return I(u)+".Consumer";case s:var l=n;return I(l._context)+".Provider";case f:return A(n,n.render,"ForwardRef");case y:var g=n.displayName||null;return g!==null?g:C(n.type)||"Memo";case d:{var w=n,b=w._payload,_=w._init;try{return C(_(b))}catch{return null}}}return null}var F=Object.assign,V=0,it,ot,at,B,Rt,Ot,Tt;function Ct(){}Ct.__reactDisabledLog=!0;function ye(){{if(V===0){it=console.log,ot=console.info,at=console.warn,B=console.error,Rt=console.group,Ot=console.groupCollapsed,Tt=console.groupEnd;var n={configurable:!0,enumerable:!0,value:Ct,writable:!0};Object.defineProperties(console,{info:n,log:n,warn:n,error:n,group:n,groupCollapsed:n,groupEnd:n})}V++}}function ge(){{if(V--,V===0){var n={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:F({},n,{value:it}),info:F({},n,{value:ot}),warn:F({},n,{value:at}),error:F({},n,{value:B}),group:F({},n,{value:Rt}),groupCollapsed:F({},n,{value:Ot}),groupEnd:F({},n,{value:Tt})})}V<0&&x("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var lt=R.ReactCurrentDispatcher,ht;function Z(n,u,l){{if(ht===void 0)try{throw Error()}catch(w){var g=w.stack.trim().match(/\n( *(at )?)/);ht=g&&g[1]||""}return`
`+ht+n}}var pt=!1,Q;{var me=typeof WeakMap=="function"?WeakMap:Map;Q=new me}function Nt(n,u){if(!n||pt)return"";{var l=Q.get(n);if(l!==void 0)return l}var g;pt=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var b;b=lt.current,lt.current=null,ye();try{if(u){var _=function(){throw Error()};if(Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(D){g=D}Reflect.construct(n,[],_)}else{try{_.call()}catch(D){g=D}n.call(_.prototype)}}else{try{throw Error()}catch(D){g=D}n()}}catch(D){if(D&&g&&typeof D.stack=="string"){for(var v=D.stack.split(`
`),N=g.stack.split(`
`),E=v.length-1,S=N.length-1;E>=1&&S>=0&&v[E]!==N[S];)S--;for(;E>=1&&S>=0;E--,S--)if(v[E]!==N[S]){if(E!==1||S!==1)do if(E--,S--,S<0||v[E]!==N[S]){var P=`
`+v[E].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),typeof n=="function"&&Q.set(n,P),P}while(E>=1&&S>=0);break}}}finally{pt=!1,lt.current=b,ge(),Error.prepareStackTrace=w}var z=n?n.displayName||n.name:"",Ut=z?Z(z):"";return typeof n=="function"&&Q.set(n,Ut),Ut}function ve(n,u,l){return Nt(n,!1)}function _e(n){var u=n.prototype;return!!(u&&u.isReactComponent)}function tt(n,u,l){if(n==null)return"";if(typeof n=="function")return Nt(n,_e(n));if(typeof n=="string")return Z(n);switch(n){case h:return Z("Suspense");case p:return Z("SuspenseList")}if(typeof n=="object")switch(n.$$typeof){case f:return ve(n.render);case y:return tt(n.type,u,l);case d:{var g=n,w=g._payload,b=g._init;try{return tt(b(w),u,l)}catch{}}}return""}var et=Object.prototype.hasOwnProperty,At={},Pt=R.ReactDebugCurrentFrame;function nt(n){if(n){var u=n._owner,l=tt(n.type,n._source,u?u.type:null);Pt.setExtraStackFrame(l)}else Pt.setExtraStackFrame(null)}function we(n,u,l,g,w){{var b=Function.call.bind(et);for(var _ in n)if(b(n,_)){var v=void 0;try{if(typeof n[_]!="function"){var N=Error((g||"React class")+": "+l+" type `"+_+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof n[_]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw N.name="Invariant Violation",N}v=n[_](u,_,g,l,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(E){v=E}v&&!(v instanceof Error)&&(nt(w),x("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",g||"React class",l,_,typeof v),nt(null)),v instanceof Error&&!(v.message in At)&&(At[v.message]=!0,nt(w),x("Failed %s type: %s",l,v.message),nt(null))}}}var be=Array.isArray;function dt(n){return be(n)}function xe(n){{var u=typeof Symbol=="function"&&Symbol.toStringTag,l=u&&n[Symbol.toStringTag]||n.constructor.name||"Object";return l}}function ke(n){try{return Mt(n),!1}catch{return!0}}function Mt(n){return""+n}function $t(n){if(ke(n))return x("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",xe(n)),Mt(n)}var X=R.ReactCurrentOwner,Ee={key:!0,ref:!0,__self:!0,__source:!0},Ft,jt,yt;yt={};function Se(n){if(et.call(n,"ref")){var u=Object.getOwnPropertyDescriptor(n,"ref").get;if(u&&u.isReactWarning)return!1}return n.ref!==void 0}function Re(n){if(et.call(n,"key")){var u=Object.getOwnPropertyDescriptor(n,"key").get;if(u&&u.isReactWarning)return!1}return n.key!==void 0}function Oe(n,u){if(typeof n.ref=="string"&&X.current&&u&&X.current.stateNode!==u){var l=C(X.current.type);yt[l]||(x('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',C(X.current.type),n.ref),yt[l]=!0)}}function Te(n,u){{var l=function(){Ft||(Ft=!0,x("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",u))};l.isReactWarning=!0,Object.defineProperty(n,"key",{get:l,configurable:!0})}}function Ce(n,u){{var l=function(){jt||(jt=!0,x("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",u))};l.isReactWarning=!0,Object.defineProperty(n,"ref",{get:l,configurable:!0})}}var Ne=function(n,u,l,g,w,b,_){var v={$$typeof:e,type:n,key:u,ref:l,props:_,_owner:b};return v._store={},Object.defineProperty(v._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(v,"_self",{configurable:!1,enumerable:!1,writable:!1,value:g}),Object.defineProperty(v,"_source",{configurable:!1,enumerable:!1,writable:!1,value:w}),Object.freeze&&(Object.freeze(v.props),Object.freeze(v)),v};function Ae(n,u,l,g,w){{var b,_={},v=null,N=null;l!==void 0&&($t(l),v=""+l),Re(u)&&($t(u.key),v=""+u.key),Se(u)&&(N=u.ref,Oe(u,w));for(b in u)et.call(u,b)&&!Ee.hasOwnProperty(b)&&(_[b]=u[b]);if(n&&n.defaultProps){var E=n.defaultProps;for(b in E)_[b]===void 0&&(_[b]=E[b])}if(v||N){var S=typeof n=="function"?n.displayName||n.name||"Unknown":n;v&&Te(_,S),N&&Ce(_,S)}return Ne(n,v,N,w,g,X.current,_)}}var gt=R.ReactCurrentOwner,Dt=R.ReactDebugCurrentFrame;function U(n){if(n){var u=n._owner,l=tt(n.type,n._source,u?u.type:null);Dt.setExtraStackFrame(l)}else Dt.setExtraStackFrame(null)}var mt;mt=!1;function vt(n){return typeof n=="object"&&n!==null&&n.$$typeof===e}function It(){{if(gt.current){var n=C(gt.current.type);if(n)return`

Check the render method of \``+n+"`."}return""}}function Pe(n){{if(n!==void 0){var u=n.fileName.replace(/^.*[\\\/]/,""),l=n.lineNumber;return`

Check your code at `+u+":"+l+"."}return""}}var Lt={};function Me(n){{var u=It();if(!u){var l=typeof n=="string"?n:n.displayName||n.name;l&&(u=`

Check the top-level render call using <`+l+">.")}return u}}function Wt(n,u){{if(!n._store||n._store.validated||n.key!=null)return;n._store.validated=!0;var l=Me(u);if(Lt[l])return;Lt[l]=!0;var g="";n&&n._owner&&n._owner!==gt.current&&(g=" It was passed a child from "+C(n._owner.type)+"."),U(n),x('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',l,g),U(null)}}function Yt(n,u){{if(typeof n!="object")return;if(dt(n))for(var l=0;l<n.length;l++){var g=n[l];vt(g)&&Wt(g,u)}else if(vt(n))n._store&&(n._store.validated=!0);else if(n){var w=T(n);if(typeof w=="function"&&w!==n.entries)for(var b=w.call(n),_;!(_=b.next()).done;)vt(_.value)&&Wt(_.value,u)}}}function $e(n){{var u=n.type;if(u==null||typeof u=="string")return;var l;if(typeof u=="function")l=u.propTypes;else if(typeof u=="object"&&(u.$$typeof===f||u.$$typeof===y))l=u.propTypes;else return;if(l){var g=C(u);we(l,n.props,"prop",g,n)}else if(u.PropTypes!==void 0&&!mt){mt=!0;var w=C(u);x("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",w||"Unknown")}typeof u.getDefaultProps=="function"&&!u.getDefaultProps.isReactClassApproved&&x("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Fe(n){{for(var u=Object.keys(n.props),l=0;l<u.length;l++){var g=u[l];if(g!=="children"&&g!=="key"){U(n),x("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",g),U(null);break}}n.ref!==null&&(U(n),x("Invalid attribute `ref` supplied to `React.Fragment`."),U(null))}}function Vt(n,u,l,g,w,b){{var _=K(n);if(!_){var v="";(n===void 0||typeof n=="object"&&n!==null&&Object.keys(n).length===0)&&(v+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var N=Pe(w);N?v+=N:v+=It();var E;n===null?E="null":dt(n)?E="array":n!==void 0&&n.$$typeof===e?(E="<"+(C(n.type)||"Unknown")+" />",v=" Did you accidentally export a JSX literal instead of a component?"):E=typeof n,x("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",E,v)}var S=Ae(n,u,l,w,b);if(S==null)return S;if(_){var P=u.children;if(P!==void 0)if(g)if(dt(P)){for(var z=0;z<P.length;z++)Yt(P[z],n);Object.freeze&&Object.freeze(P)}else x("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Yt(P,n)}return n===i?Fe(S):$e(S),S}}function je(n,u,l){return Vt(n,u,l,!0)}function De(n,u,l){return Vt(n,u,l,!1)}var Ie=De,Le=je;pn.Fragment=i,pn.jsx=Ie,pn.jsxs=Le}()),pn}(function(t){process.env.NODE_ENV==="production"?t.exports=zu():t.exports=Hu()})(Vn);const de=Vn.exports.jsx,Un=Vn.exports.jsxs,Bu=()=>de(Vu,{title:"Loading...","data-selector":"pi-lib-loader",children:Un(Uu,{children:[Un(hi,{children:[de(hn,{delay:!0}),de(hn,{})]}),Un(hi,{children:[de(hn,{}),de(hn,{delay:!0})]})]})});return({data:t=[]})=>{const[e,r]=L.useState(1),[i,o]=L.useState(0),a=L.useRef(null),{scales:s,dimensions:c,utils:f,visibleRange:h}=ds(a,t,e,i);return Nu(a,t,i,s,c,f),aa(a,t,i,s,c),Yn(gi,{children:[t!=null&&t.length?q(Wu,{zoomLevel:e,setZoomLevel:r,setPanLevel:o,visibleRange:h,length:t.length}):q(mi,{children:q(Bu,{})}),q(yi,{ref:a,children:q(Mu,{...c})})]})}});
